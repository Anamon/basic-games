RAINBOW SQUARE DANCE

A two-dimensional cube?  Impossible of course, but this game, played
on the computer screen, is similar in many ways to Rubik's Cube.

You will see 25 colored squares arranged at random on a 5 x 5 board.
The rows of squares on the board are numbered like this:

      +---+---+---+---+---+
    1 |   |   |   |   |   |
      +---+---+---+---+---+
    2 |   |   |   |   |   |
      +---+---+---+---+---+
    3 |   |   |   |   |   |
      +---+---+---+---+---+
    4 |   |   |   |   |   |
      +---+---+---+---+---+
    5 |   |   |   |   |   |
      +---+---+---+---+---+    
        6   7   8   9   0 

That is, the horizontal rows are numbered 1 to 5 and the vertical rows
6, 7, 8, 9, and 0.  When you enter the number of a row, the squares in
that row are moved one position.  In a horizontal row the squares move
to the right, and in a vertical row they move downwards.  As a square
disappears off one end of a row it reappears at the other end, like
this:
        _   _   _   _ 
       / v / v / v / v
    +---+---+---+---+---+
    |   |   |   |   |   |
    +---+---+---+---+---+    
      ^_______________/

in a horizontal row, or this

       +---+
     --|   |<-
    |  +---+  |
     ->|   |  |
    |  +---+  |
     ->|   |  |
    |  +---+  |
     ->|   |  |
    |  +---+  |
     ->|   |--
       +---+

in a vertical row.

The object of all this?  You must rearrange the squares to form five
horizontal stripes of one color each.  Sounds simple... but is it?
